<!DOCTYPE html>
<html>
<head>

  <title>LA CARTELERA</title>
  <link href="../css/form.css" rel='stylesheet' type='text/css' />
  <link href="../css/bootstrap.css" rel='stylesheet' type='text/css' />
  <!-- Custom Theme files -->
  <link href="../css/style.css" rel="stylesheet" type="text/css" media="all" />
  <!-- Custom Theme files -->
  <!-- <script src="js/jquery.min.js"></script> -->
  <!-- Custom Theme files -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <!--webfont-->
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
</head>
<body>
<!-- header-section-starts -->
<div class="full">
  <div class="menu">
    <ul>
      <li><a href="/static"><div class="hm"><i class="home1"></i><i class="home2"></i></div></a></li>
      <!-- <li><a href="videos.html"><div class="video"><i class="videos"></i><i class="videos1"></i></div></a></li> -->
      <li><a href="../html/reviews.html"><div class="cat"><i class="watching"></i><i class="watching1"></i></div></a></li>
      <li><a class="active" href="../html/tickets.html"><div class="bk"><i class="booking"></i><i class="booking1"></i></div></a></li>
      <li><a href="../html/contact.html"><div class="cnt"><i class="contact"></i><i class="contact1"></i></div></a></li>
    </ul>
  </div>
  <div class="main">
    <div class="error-content">
      <div class="top-header span_top">
        <div class="logo">
          <p>LA CARTELERA</p>
        </div>
        <div class="search v-search">
          <form>
            <input type="text" value="Search.." onfocus="this.value = '';" onblur="if (this.value == '') {this.value = 'Search..';}"/>
            <input type="submit" value="">
          </form>
        </div>
        <div class="clearfix"></div>
      </div>
      <div class="error-404 text-center">
        <main>

          <h3 class="head">ORDER A TICKET</h3>
          <form action="/tickets/formTicket" class="formulario" id="formulario">

            <div class="formulario_grupo" id="grupo_nameM"> <!-- class="col-md-6 contact-middle"  -->
              <label for="nameM" class="formulario_label">Movie name</label>
              <div class="formulario_grupo-input">
                <<<<<<< HEAD
                <input type="text" class="formulario_input" name="nameM" id="nameM" placeholder="As Bestas">
                =======
                <input type="text" class="formulario_input" name="nameMovie" id="name" placeholder="As Bestas" required>
                >>>>>>> 1b3625d73d9ce522451fd4aad16c54a598139868
                <i class="formulario_validacion-estado fas fa-times-circle"></i>
              </div>
            </div>

            <div class="formulario_grupo" id="grupo_number">
              <label for="number" class="formulario_label">Seat number</label>
              <div class="formulario_grupo-input">
                <input type="text" class="formulario_input" name="numSeat" id="number" placeholder="4" required/>
                <i class="formulario_validacion-estado fas fa-times-circle"></i>
              </div>
              <<<<<<< HEAD
              <p class="formulario_input-error">Seat number, can only contain numbers. 1-15</p>
              =======
              >>>>>>> 1b3625d73d9ce522451fd4aad16c54a598139868
            </div>

            <div class="formulario_grupo" id="grupo_time">
              <label for="time" class="formulario_label">Movie time</label>
              <div class="formulario_grupo-input">
                <<<<<<< HEAD
                <input type="time" class="formulario_input" name="time" id="time"/>
                =======
                <input type="text" class="formulario_input" name="movieTime" id="time" placeholder="21:15" required/>
                >>>>>>> 1b3625d73d9ce522451fd4aad16c54a598139868
                <i class="formulario_validacion-estado fas fa-times-circle"></i>
              </div>
            </div>

            <div class="formulario_grupo" id="grupo_date">
              <label for="date" class="formulario_label">Movie date</label>
              <div class="formulario_grupo-input">
                <input type="date" class="formulario_input" name="movieDate" id="date" required pattern="\d{4}-\d{2}-\d{2}"/>
                <i class="formulario_validacion-estado fas fa-times-circle"></i>
              </div>
            </div>

            <div class="formulario_grupo" id="grupo_terminos">
              <label class="formulario_label">
                <input class="formulario_checkbox" type="checkbox" name="terminos" id="terminos" required>
                I accept the terms and use conditions.
              </label>
            </div>

            <div class="formulario_mensaje" id="formulario_mensaje">
            </div>

            <div class="formulario_grupo formulario_grupo-btn-enviar">
              <<<<<<< HEAD
              <button type="submit" class="formulario_btn">Buy ticket</button>
              <p class="formulario_mensaje-exito" id="formulario_mensaje-exito">Purchase made successfully!</p>
              =======
              <button type="submit" class="b-home">Buy ticket</button>
              >>>>>>> 1b3625d73d9ce522451fd4aad16c54a598139868
            </div>


            <div class="clearfix"></div>
          </form>
          <<<<<<< HEAD
          <!-- <a class="b-home" href="../ticketBookedCorrectly.html">Buy ticket</a> -->
        </main>
        =======
        >>>>>>> 1b3625d73d9ce522451fd4aad16c54a598139868
      </div>

    </div>

    <div class="review-slider">

    </div>

  </div>

</div>

<script>
  const formulario = document.getElementById('formulario');
  const inputs = document.querySelectorAll('#formulario input');

  const expresiones = {
    nameM: /^[a-zA-ZÀ-ÿ\s]{1,20}$/, // Letras, numeros, guion y guion_bajo
    number: /^[0-9]{1,2}$/, // Letras y espacios, pueden llevar acentos.
  }

  const campos = {
    nameM: false,
    number: false,
    time: false,
    date: false,
  }

  const validarFormulario = (e) => {
    switch (e.target.name) {
      case "nameM":
        validarCampo(expresiones.nameM, e.target, 'nameM');
        break;
      case "number":
        validarCampo(expresiones.number, e.target, 'number');
        break;
      case "time":
        validarCampo(expresiones.time, e.target, 'time');
        break;
      case "date":
        validarCampo(expresiones.date, e.target, 'date');
        break;
    }
  }

  const validarCampo = (expresion, input, campo) => {
    if(expresion.test(input.value)){
      document.getElementById(`grupo_${campo}`).classList.remove('formulario_grupo-incorrecto');
      document.getElementById(`grupo_${campo}`).classList.add('formulario_grupo-correcto');
      document.querySelector(`#grupo_${campo} i`).classList.add('fa-check-circle');
      document.querySelector(`#grupo_${campo} i`).classList.remove('fa-times-circle');
      document.querySelector(`#grupo_${campo} .formulario_input-error`).classList.remove('formulario_input-error-activo');
      campos[campo] = true;
    } else {
      document.getElementById(`grupo_${campo}`).classList.add('formulario_grupo-incorrecto');
      document.getElementById(`grupo_${campo}`).classList.remove('formulario_grupo-correcto');
      document.querySelector(`#grupo_${campo} i`).classList.add('fa-times-circle');
      document.querySelector(`#grupo_${campo} i`).classList.remove('fa-check-circle');
      document.querySelector(`#grupo_${campo} .formulario_input-error`).classList.add('formulario_input-error-activo');
      campos[campo] = false;
    }
  }

  inputs.forEach((input) => {
    input.addEventListener('keyup', validarFormulario);
    input.addEventListener('blur', validarFormulario);
  });

  formulario.addEventListener('submit', (e) => {
    e.preventDefault();

    const terminos = document.getElementById('terminos');
    if(campos.nameM && campos.number && campos.time && campos.date && terminos.checked ){
      formulario.reset();

      document.getElementById('formulario_mensaje-exito').classList.add('formulario_mensaje-exito-activo');
      setTimeout(() => {
        document.getElementById('formulario_mensaje-exito').classList.remove('formulario_mensaje-exito-activo');
      }, 5000);

      document.querySelectorAll('.formulario_grupo-correcto').forEach((icono) => {
        icono.classList.remove('formulario_grupo-correcto');
      });
    } else {
      document.getElementById('formulario_mensaje').classList.add('formulario_mensaje-activo');
    }
  });
</script>
<script src="https://kit.fontawesome.com/2c36e9b7b1.js" crossorigin="anonymous"></script>

</body>
</html>